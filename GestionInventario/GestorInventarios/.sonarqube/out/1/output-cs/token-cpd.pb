ÂØ
üD:\Documentos\UMG\0 -Decimo Semestre\1. Proyecto de Graduaci√≥n II\Software\GestionInventario\GestorInventarios\CapaControladorGestorInventarios\Controlador.cs
	namespace

 	,
 CapaControladorGestorInventarios


 *
{ 
public 

class 
Controlador 
{ 
private 

Sentencias 
sn 
= 
new  #

Sentencias$ .
(. /
)/ 0
;0 1
public 
void !
EnviarContratoDespido )
() *
DateTimePicker* 8
date9 =
,= >
TextBox? F
	textoDateG P
,P Q
CheckBoxR Z
check[ `
)` a
{ 	
sn 
. !
EnviarContratoDespido $
($ %
date% )
,) *
	textoDate+ 4
,4 5
check6 ;
); <
;< =
} 	
public 
void "
RecibirContratoDespido *
(* +
DateTimePicker+ 9
date: >
,> ?
TextBox@ G
	textoDateH Q
,Q R
CheckBoxS [
check\ a
)a b
{ 	
sn 
. "
RecibirContratoDespido %
(% &
date& *
,* +
	textoDate, 5
,5 6
check7 <
)< =
;= >
} 	
public 
void 
bloqueareporte "
(" #
string# )
tipousuario* 5
,5 6
Button7 =
reporte> E
)E F
{ 	
sn 
. 
bloqueareporte 
( 
tipousuario )
,) *
reporte+ 2
)2 3
;3 4
} 	
public 
void 
bloquearimagen "
(" #
string# )
tipousuario* 5
,5 6
Button7 =
imagen> D
)D E
{ 	
sn 
. 
bloqueaimagen 
( 
tipousuario (
,( )
imagen* 0
)0 1
;1 2
} 	
public   
void   
CambioContrasena   $
(  $ %
string  % +
tabla  , 1
,  1 2
string  3 9

contrasena  : D
,  D E
string  F L
id  M O
,  O P
string  Q W
usuario  X _
)  _ `
{!! 	
sn"" 
."" 
CambioContrasena"" 
(""  
tabla""  %
,""% &

contrasena""' 1
,""1 2
id""3 5
,""5 6
usuario""7 >
)""> ?
;""? @
}## 	
public$$ 
byte$$ 
[$$ 
]$$ 
obtenerByte$$ !
($$! "
string$$" (
id$$) +
)$$+ ,
{%% 	
byte&& 
[&& 
]&& 
imagen&& 
=&& 
sn&& 
.&& 
obtenerByte&& *
(&&* +
id&&+ -
)&&- .
;&&. /
return'' 
imagen'' 
;'' 
}(( 	
public)) 
void)) 
insertaNuevaFoto)) $
())$ %
string))% +
id)), .
,)). /
byte))0 4
[))4 5
]))5 6
foto))7 ;
))); <
{** 	
sn++ 
.++ 
insertaNuevaFoto++ 
(++  
id++  "
,++" #
foto++$ (
)++( )
;++) *
},, 	
public-- 
void-- 
insertaFoto-- 
(--  
string--  &
id--' )
,--) *
byte--+ /
[--/ 0
]--0 1
foto--2 6
)--6 7
{.. 	
sn// 
.// 
insertaFoto// 
(// 
id// 
,// 
foto// #
)//# $
;//$ %
}00 	
public11 
int11 %
idSiguienteDeNuevoIngreso11 ,
(11, -
string11- 3
tabla114 9
,119 :
string11; A
campoB11B H
)11H I
{22 	
int33 
id33 
=33 
sn33 
.33 %
idSiguienteDeNuevoIngreso33 1
(331 2
tabla332 7
,337 8
campoB339 ?
)33? @
;33@ A
return44 
id44 
;44 
}55 	
public66 
void66 
bloqueara√±adirprov66 &
(66& '
string66' -
tipousuario66. 9
,669 :
Button66; A

anadirprov66B L
)66L M
{77 	
sn88 
.88 
bloqueaa√±adirprov88  
(88  !
tipousuario88! ,
,88, -

anadirprov88. 8
)888 9
;889 :
}99 	
public:: 
void:: 
bloqueabotones:: "
(::" #
string::# )
tipousuario::* 5
,::5 6
Button::7 =
btnIngresar::> I
,::I J
Button::K Q
	btnEditar::R [
,::[ \
Button::] c

btnGuardar::d n
,::n o
Button::p v
btnCancelar	::w Ç
,
::Ç É
Button
::Ñ ä
btnEliminar
::ã ñ
,
::ñ ó
Button
::ò û
btnImprimir
::ü ™
,
::™ ´
Button
::¨ ≤
btnActualizar
::≥ ¿
,
::¿ ¡
Button
::¬ »
btnAyuda
::… —
,
::— “
Button
::” Ÿ
btnSalir
::⁄ ‚
)
::‚ „
{;; 	
sn<< 
.<< 
bloqueabotones<< 
(<< 
tipousuario<< )
,<<) *
btnIngresar<<+ 6
,<<6 7
	btnEditar<<8 A
,<<A B

btnGuardar<<C M
,<<M N
btnCancelar<<O Z
,<<Z [
btnEliminar<<\ g
,<<g h
btnImprimir<<i t
,<<t u
btnActualizar	<<v É
,
<<É Ñ
btnAyuda
<<Ö ç
,
<<ç é
btnSalir
<<è ó
)
<<ó ò
;
<<ò ô
}== 	
public>> 
void>> 
LlenarCombo>> 
(>>  
ComboBox>>  (
cbx>>) ,
,>>, -
string>>. 4
tabla>>5 :
,>>: ;
string>>< B
campobuscado>>C O
,>>O P
string>>Q W
catsup>>X ^
)>>^ _
{?? 	
try@@ 
{AA 
snBB 
.BB 
LlenarComboBB 
(BB 
cbxBB "
,BB" #
tablaBB$ )
,BB) *
campobuscadoBB+ 7
,BB7 8
catsupBB9 ?
)BB? @
;BB@ A
}CC 
catchDD 
{EE 

MessageBoxFF 
.FF 
ShowFF 
(FF  
$strFF  d
)FFd e
;FFe f
}GG 
}HH 	
publicII 
voidII 
LlenarCategoriaII #
(II# $
ComboBoxII$ ,
cbxII- 0
,II0 1
stringII2 8
tablaII9 >
,II> ?
stringII@ F
campobuscadoIIG S
,IIS T
stringIIU [
tipoII\ `
)II` a
{JJ 	
tryKK 
{LL 
snMM 
.MM 
LlenarCategoriaMM "
(MM" #
cbxMM# &
,MM& '
tablaMM( -
,MM- .
campobuscadoMM/ ;
,MM; <
tipoMM= A
)MMA B
;MMB C
}NN 
catchOO 
{PP 

MessageBoxQQ 
.QQ 
ShowQQ 
(QQ  
$strQQ  d
)QQd e
;QQe f
}RR 
}SS 	
publicTT 
voidTT 
IDComboTT 
(TT 
TextBoxTT #
textboxTT$ +
,TT+ ,
stringTT- 3
tablaTT4 9
,TT9 :
stringTT; A
campobuscadoTTB N
,TTN O
stringTTP V
nombreTTW ]
)TT] ^
{UU 	
tryVV 
{WW 
snXX 
.XX 
IDcomboXX 
(XX 
textboxXX "
,XX" #
tablaXX$ )
,XX) *
campobuscadoXX+ 7
,XX7 8
nombreXX9 ?
)XX? @
;XX@ A
}YY 
catchZZ 
{[[ 

MessageBox\\ 
.\\ 
Show\\ 
(\\  
$str\\  d
)\\d e
;\\e f
}]] 
}^^ 	
public__ 
void__ 
NombreID__ 
(__ 
ComboBox__ %
combo__& +
,__+ ,
string__- 3
tabla__4 9
,__9 :
string__; A
campobuscado__B N
,__N O
string__P V
nombre__W ]
)__] ^
{`` 	
tryaa 
{bb 
sncc 
.cc 
NombreIDcc 
(cc 
combocc !
,cc! "
tablacc# (
,cc( )
campobuscadocc* 6
,cc6 7
nombrecc8 >
)cc> ?
;cc? @
}dd 
catchee 
{ff 

MessageBoxgg 
.gg 
Showgg 
(gg  
$strgg  d
)ggd e
;gge f
}hh 
}ii 	
publicjj 
voidjj 
metodoInsertarjj "
(jj" #
stringjj# )
queryjj* /
)jj/ 0
{kk 	
snll 
.ll 
metodoInsertarll 
(ll 
queryll #
)ll# $
;ll$ %
}mm 	
publicnn 
voidnn 
metodoModificarnn #
(nn# $
stringnn$ *
querynn+ 0
)nn0 1
{oo 	
snpp 
.pp 
metodoModificarpp 
(pp 
querypp $
)pp$ %
;pp% &
}qq 	
publicrr 
voidrr 
metodoDarBajarr !
(rr! "
stringrr" (
queryrr) .
)rr. /
{ss 	
sntt 
.tt 
metodoDarBajatt 
(tt 
querytt "
)tt" #
;tt# $
}uu 	
publicvv 
voidvv 
metodoEliminarvv "
(vv" #
stringvv# )
queryvv* /
)vv/ 0
{ww 	
snxx 
.xx 
metodoEliminarxx 
(xx 
queryxx #
)xx# $
;xx$ %
}yy 	
publiczz 
	DataTablezz 
ActualizarDGVzz &
(zz& '
stringzz' -
tablaDBzz. 5
)zz5 6
{{{ 	
return~~ 
sn~~ 
.~~ 
ActualizarDGV~~ #
(~~# $
tablaDB~~$ +
)~~+ ,
;~~, -
} 	
public
ÄÄ 
void
ÄÄ 
	LlenarCBX
ÄÄ 
(
ÄÄ 
ComboBox
ÄÄ &
cbx
ÄÄ' *
,
ÄÄ* +
string
ÄÄ, 2
tabla
ÄÄ3 8
,
ÄÄ8 9
string
ÄÄ: @
campobuscado
ÄÄA M
)
ÄÄM N
{
ÅÅ 	
try
ÇÇ 
{
ÉÉ 
sn
ÑÑ 
.
ÑÑ 
	LlenarCBX
ÑÑ 
(
ÑÑ 
cbx
ÑÑ  
,
ÑÑ  !
tabla
ÑÑ" '
,
ÑÑ' (
campobuscado
ÑÑ) 5
)
ÑÑ5 6
;
ÑÑ6 7
}
ÖÖ 
catch
ÜÜ 
{
áá 

MessageBox
àà 
.
àà 
Show
àà 
(
àà  
$str
àà  d
)
ààd e
;
ààe f
}
ââ 
}
ää 	
public
ãã 
void
ãã 
	LlenarCat
ãã 
(
ãã 
ComboBox
ãã &
cbx
ãã' *
,
ãã* +
string
ãã, 2
tabla
ãã3 8
,
ãã8 9
string
ãã: @
campobuscado
ããA M
,
ããM N
string
ããO U
tipo
ããV Z
,
ããZ [
string
ãã\ b
catsup
ããc i
)
ããi j
{
åå 	
try
çç 
{
éé 
sn
èè 
.
èè 
	LlenarCat
èè 
(
èè 
cbx
èè  
,
èè  !
tabla
èè" '
,
èè' (
campobuscado
èè) 5
,
èè5 6
tipo
èè7 ;
,
èè; <
catsup
èè= C
)
èèC D
;
èèD E
}
êê 
catch
ëë 
{
íí 

MessageBox
ìì 
.
ìì 
Show
ìì 
(
ìì  
$str
ìì  d
)
ììd e
;
ììe f
}
îî 
}
ïï 	
public
ññ 
void
ññ 
LlenarUbicacion
ññ #
(
ññ# $
ComboBox
ññ$ ,
cbx
ññ- 0
,
ññ0 1
string
ññ2 8
tabla
ññ9 >
,
ññ> ?
string
ññ@ F
campobuscado
ññG S
,
ññS T
string
ññU [
bodega
ññ\ b
)
ññb c
{
óó 	
try
òò 
{
ôô 
sn
öö 
.
öö 
LlenarUbicacion
öö "
(
öö" #
cbx
öö# &
,
öö& '
tabla
öö( -
,
öö- .
campobuscado
öö/ ;
,
öö; <
bodega
öö= C
)
ööC D
;
ööD E
}
õõ 
catch
úú 
{
ùù 

MessageBox
ûû 
.
ûû 
Show
ûû 
(
ûû  
$str
ûû  d
)
ûûd e
;
ûûe f
}
üü 
}
†† 	
public
°° 
	DataTable
°° 
LlenarProveedores
°° *
(
°°* +
string
°°+ 1
tablaDB
°°2 9
)
°°9 :
{
¢¢ 	
return
•• 
sn
•• 
.
•• 
LlenarProveedores
•• '
(
••' (
tablaDB
••( /
)
••/ 0
;
••0 1
}
¶¶ 	
public
ßß 
void
ßß 
IDCAT
ßß 
(
ßß 
TextBox
ßß !
textbox
ßß" )
,
ßß) *
string
ßß+ 1
tabla
ßß2 7
,
ßß7 8
string
ßß9 ?
campobuscado
ßß@ L
,
ßßL M
string
ßßN T
nombre
ßßU [
,
ßß[ \
string
ßß] c
tipo
ßßd h
,
ßßh i
string
ßßj p
catsup
ßßq w
)
ßßw x
{
®® 	
sn
©© 
.
©© 
IDCAT
©© 
(
©© 
textbox
©© 
,
©© 
tabla
©© #
,
©©# $
campobuscado
©©% 1
,
©©1 2
nombre
©©3 9
,
©©9 :
tipo
©©; ?
,
©©? @
catsup
©©A G
)
©©G H
;
©©H I
}
™™ 	
public
´´ 
Boolean
´´  
encuentraProveedor
´´ )
(
´´) *
string
´´* 0
fkproveedore
´´1 =
,
´´= >
string
´´? E
fkproveedor
´´F Q
,
´´Q R
string
´´S Y
nombre
´´Z `
)
´´` a
{
¨¨ 	
Boolean
≠≠ 
	chequeado
≠≠ 
=
≠≠ 
false
≠≠  %
;
≠≠% &
	chequeado
ÆÆ 
=
ÆÆ 
sn
ÆÆ 
.
ÆÆ  
encuentraProveedor
ÆÆ -
(
ÆÆ- .
fkproveedore
ÆÆ. :
,
ÆÆ: ;
fkproveedor
ÆÆ< G
,
ÆÆG H
nombre
ÆÆI O
)
ÆÆO P
;
ÆÆP Q
return
ØØ 
	chequeado
ØØ 
;
ØØ 
}
∞∞ 	
public
±± 
Boolean
±± 
idcoincidente
±± $
(
±±$ %
string
±±% +
tabla
±±, 1
,
±±1 2
string
±±3 9
pkid
±±: >
)
±±> ?
{
≤≤ 	
Boolean
≥≥ 
	chequeado
≥≥ 
=
≥≥ 
false
≥≥  %
;
≥≥% &
	chequeado
¥¥ 
=
¥¥ 
sn
¥¥ 
.
¥¥ 
idcoincidente
¥¥ (
(
¥¥( )
tabla
¥¥) .
,
¥¥. /
pkid
¥¥0 4
)
¥¥4 5
;
¥¥5 6
return
µµ 
	chequeado
µµ 
;
µµ 
}
∂∂ 	
public
∑∑ 
Boolean
∑∑ 
registroexiste
∑∑ %
(
∑∑% &
string
∑∑& ,
tabla
∑∑- 2
,
∑∑2 3
string
∑∑4 :
fkproveedores
∑∑; H
,
∑∑H I
string
∑∑J P
fkproveedore
∑∑Q ]
)
∑∑] ^
{
∏∏ 	
Boolean
ππ 
	chequeado
ππ 
=
ππ 
false
ππ  %
;
ππ% &
	chequeado
∫∫ 
=
∫∫ 
sn
∫∫ 
.
∫∫ 
registroexiste
∫∫ )
(
∫∫) *
tabla
∫∫* /
,
∫∫/ 0
fkproveedores
∫∫1 >
,
∫∫> ?
fkproveedore
∫∫@ L
)
∫∫L M
;
∫∫M N
return
ªª 
	chequeado
ªª 
;
ªª 
}
ºº 	
public
ΩΩ 
void
ΩΩ 
LlenarCBXProducto
ΩΩ %
(
ΩΩ% &
ComboBox
ΩΩ& .
cbx
ΩΩ/ 2
,
ΩΩ2 3
string
ΩΩ4 :
tabla
ΩΩ; @
,
ΩΩ@ A
string
ΩΩB H
campobuscado
ΩΩI U
,
ΩΩU V
string
ΩΩW ]

inventario
ΩΩ^ h
)
ΩΩh i
{
ææ 	
try
øø 
{
¿¿ 
sn
¡¡ 
.
¡¡ 
LlenarCBXProducto
¡¡ $
(
¡¡$ %
cbx
¡¡% (
,
¡¡( )
tabla
¡¡* /
,
¡¡/ 0
campobuscado
¡¡1 =
,
¡¡= >

inventario
¡¡? I
)
¡¡I J
;
¡¡J K
}
¬¬ 
catch
√√ 
{
ƒƒ 

MessageBox
≈≈ 
.
≈≈ 
Show
≈≈ 
(
≈≈  
$str
≈≈  j
)
≈≈j k
;
≈≈k l
}
∆∆ 
}
«« 	
public
»» 
void
»» 

IDProducto
»» 
(
»» 
TextBox
»» &
textbox
»»' .
,
»». /
string
»»0 6
tabla
»»7 <
,
»»< =
string
»»> D
campobuscado
»»E Q
,
»»Q R
string
»»S Y
nombre
»»Z `
,
»»` a
string
»»b h

inventario
»»i s
)
»»s t
{
…… 	
try
   
{
ÀÀ 
sn
ÃÃ 
.
ÃÃ 

IDProducto
ÃÃ 
(
ÃÃ 
textbox
ÃÃ %
,
ÃÃ% &
tabla
ÃÃ' ,
,
ÃÃ, -
campobuscado
ÃÃ. :
,
ÃÃ: ;
nombre
ÃÃ< B
,
ÃÃB C

inventario
ÃÃD N
)
ÃÃN O
;
ÃÃO P
}
ÕÕ 
catch
ŒŒ 
{
œœ 

MessageBox
–– 
.
–– 
Show
–– 
(
––  
$str
––  d
)
––d e
;
––e f
}
—— 
}
““ 	
public
”” 
void
”” 
NombreIDProducto
”” $
(
””$ %
ComboBox
””% -
combo
””. 3
,
””3 4
string
””5 ;
tabla
””< A
,
””A B
string
””C I
campobuscado
””J V
,
””V W
string
””X ^
pkid
””_ c
,
””c d
string
””e k

inventario
””l v
)
””v w
{
‘‘ 	
try
’’ 
{
÷÷ 
sn
◊◊ 
.
◊◊ 
NombreIDProducto
◊◊ #
(
◊◊# $
combo
◊◊$ )
,
◊◊) *
tabla
◊◊+ 0
,
◊◊0 1
campobuscado
◊◊2 >
,
◊◊> ?
pkid
◊◊@ D
,
◊◊D E

inventario
◊◊F P
)
◊◊P Q
;
◊◊Q R
}
ÿÿ 
catch
ŸŸ 
{
⁄⁄ 

MessageBox
€€ 
.
€€ 
Show
€€ 
(
€€  
$str
€€  d
)
€€d e
;
€€e f
}
‹‹ 
}
›› 	
public
ﬁﬁ 
void
ﬁﬁ 
convertirFechaDTP
ﬁﬁ %
(
ﬁﬁ% &
DateTimePicker
ﬁﬁ& 4
dtp
ﬁﬁ5 8
,
ﬁﬁ8 9
TextBox
ﬁﬁ: A
txt
ﬁﬁB E
)
ﬁﬁE F
{
ﬂﬂ 	
sn
‡‡ 
.
‡‡ 
convertirFechaDTP
‡‡  
(
‡‡  !
dtp
‡‡! $
,
‡‡$ %
txt
‡‡& )
)
‡‡) *
;
‡‡* +
}
·· 	
public
‚‚ 
void
‚‚ !
convertirFechaMySQL
‚‚ '
(
‚‚' (
DateTimePicker
‚‚( 6
dtp
‚‚7 :
,
‚‚: ;
TextBox
‚‚< C
txt
‚‚D G
)
‚‚G H
{
„„ 	
sn
‰‰ 
.
‰‰ !
convertirFechaMySQL
‰‰ "
(
‰‰" #
dtp
‰‰# &
,
‰‰& '
txt
‰‰( +
)
‰‰+ ,
;
‰‰, -
}
ÂÂ 	
public
ÊÊ 
string
ÊÊ 
	BuscaDato
ÊÊ 
(
ÊÊ  
string
ÊÊ  &
tabla
ÊÊ' ,
,
ÊÊ, -
string
ÊÊ. 4
campo
ÊÊ5 :
,
ÊÊ: ;
string
ÊÊ< B
campobuscado
ÊÊC O
,
ÊÊO P
string
ÊÊQ W
datoreferencia
ÊÊX f
)
ÊÊf g
{
ÁÁ 	
string
ËË 
dato
ËË 
=
ËË 
$str
ËË 
;
ËË 
dato
ÈÈ 
=
ÈÈ 
sn
ÈÈ 
.
ÈÈ 
	BuscaDato
ÈÈ 
(
ÈÈ  
tabla
ÈÈ  %
,
ÈÈ% &
campo
ÈÈ' ,
,
ÈÈ, -
campobuscado
ÈÈ. :
,
ÈÈ: ;
datoreferencia
ÈÈ< J
)
ÈÈJ K
;
ÈÈK L
return
ÍÍ 
dato
ÍÍ 
;
ÍÍ 
}
ÎÎ 	
public
ÏÏ 
	DataTable
ÏÏ 
ActualizaDetalles
ÏÏ *
(
ÏÏ* +
string
ÏÏ+ 1
tablaDB
ÏÏ2 9
,
ÏÏ9 :
string
ÏÏ; A

cotizacion
ÏÏB L
)
ÏÏL M
{
ÌÌ 	
return
 
sn
 
.
 
ActualizaDetalles
 '
(
' (
tablaDB
( /
,
/ 0

cotizacion
1 ;
)
; <
;
< =
}
ÒÒ 	
public
ÚÚ 
	DataTable
ÚÚ 
ObtenerDetalles
ÚÚ (
(
ÚÚ( )
string
ÚÚ) /

cotizacion
ÚÚ0 :
,
ÚÚ: ;
string
ÚÚ< B
total
ÚÚC H
)
ÚÚH I
{
ÛÛ 	
return
ˆˆ 
sn
ˆˆ 
.
ˆˆ 
ObtenerDetalles
ˆˆ %
(
ˆˆ% &

cotizacion
ˆˆ& 0
,
ˆˆ0 1
total
ˆˆ2 7
)
ˆˆ7 8
;
ˆˆ8 9
}
˜˜ 	
public
¯¯ 
	DataTable
¯¯  
CargarRecordatorio
¯¯ +
(
¯¯+ ,
string
¯¯, 2
sql
¯¯3 6
)
¯¯6 7
{
˘˘ 	
return
¸¸ 
sn
¸¸ 
.
¸¸  
CargarRecordatorio
¸¸ (
(
¸¸( )
sql
¸¸) ,
)
¸¸, -
;
¸¸- .
}
˝˝ 	
}
˛˛ 
}ˇˇ ø5
ùD:\Documentos\UMG\0 -Decimo Semestre\1. Proyecto de Graduaci√≥n II\Software\GestionInventario\GestorInventarios\CapaControladorGestorInventarios\Encriptar.cs
	namespace		 	,
 CapaControladorGestorInventarios		
 *
{

 
public 

class 
	Encriptar 
{ 
public 
string 
metodoEncryptString )
() *
string* 0
key1 4
,4 5
string6 <
	plainText= F
)F G
{ 	
byte 
[ 
] 
iv 
= 
new 
byte  
[  !
$num! #
]# $
;$ %
byte 
[ 
] 
array 
; 
using 
( 
Aes 
aes 
= 
Aes  
.  !
Create! '
(' (
)( )
)) *
{ 
aes 
. 
Key 
= 
Encoding "
." #
UTF8# '
.' (
GetBytes( 0
(0 1
key1 4
)4 5
;5 6
aes 
. 
IV 
= 
iv 
; 
ICryptoTransform  
	encryptor! *
=+ ,
aes- 0
.0 1
CreateEncryptor1 @
(@ A
aesA D
.D E
KeyE H
,H I
aesJ M
.M N
IVN P
)P Q
;Q R
using 
( 
MemoryStream #
memoryStream$ 0
=1 2
new3 6
MemoryStream7 C
(C D
)D E
)E F
{ 
using 
( 
CryptoStream '
cryptoStream( 4
=5 6
new7 :
CryptoStream; G
(G H
(H I
StreamI O
)O P
memoryStreamP \
,\ ]
	encryptor^ g
,g h
CryptoStreamModei y
.y z
Writez 
)	 Ä
)
Ä Å
{ 
using 
( 
StreamWriter +
streamWriter, 8
=9 :
new; >
StreamWriter? K
(K L
(L M
StreamM S
)S T
cryptoStreamT `
)` a
)a b
{ 
streamWriter   (
.  ( )
Write  ) .
(  . /
	plainText  / 8
)  8 9
;  9 :
}!! 
array## 
=## 
memoryStream##  ,
.##, -
ToArray##- 4
(##4 5
)##5 6
;##6 7
}$$ 
}%% 
}&& 
return(( 
Convert(( 
.(( 
ToBase64String(( )
((() *
array((* /
)((/ 0
;((0 1
})) 	
public++ 
string++ 
metodoDecryptString++ )
(++) *
string++* 0
key++1 4
,++4 5
string++6 <

cipherText++= G
)++G H
{,, 	
byte-- 
[-- 
]-- 
iv-- 
=-- 
new-- 
byte--  
[--  !
$num--! #
]--# $
;--$ %
byte.. 
[.. 
].. 
buffer.. 
=.. 
Convert.. #
...# $
FromBase64String..$ 4
(..4 5

cipherText..5 ?
)..? @
;..@ A
using// 
(// 
Aes// 
aes// 
=// 
Aes//  
.//  !
Create//! '
(//' (
)//( )
)//) *
{00 
aes11 
.11 
Key11 
=11 
Encoding11 "
.11" #
UTF811# '
.11' (
GetBytes11( 0
(110 1
key111 4
)114 5
;115 6
aes22 
.22 
IV22 
=22 
iv22 
;22 
ICryptoTransform33  
	decryptor33! *
=33+ ,
aes33- 0
.330 1
CreateDecryptor331 @
(33@ A
aes33A D
.33D E
Key33E H
,33H I
aes33J M
.33M N
IV33N P
)33P Q
;33Q R
using55 
(55 
MemoryStream55 #
memoryStream55$ 0
=551 2
new553 6
MemoryStream557 C
(55C D
buffer55D J
)55J K
)55K L
{66 
using77 
(77 
CryptoStream77 '
cryptoStream77( 4
=775 6
new777 :
CryptoStream77; G
(77G H
(77H I
Stream77I O
)77O P
memoryStream77P \
,77\ ]
	decryptor77^ g
,77g h
CryptoStreamMode77i y
.77y z
Read77z ~
)77~ 
)	77 Ä
{88 
using99 
(99 
StreamReader99 +
streamReader99, 8
=999 :
new99; >
StreamReader99? K
(99K L
(99L M
Stream99M S
)99S T
cryptoStream99T `
)99` a
)99a b
{:: 
return;; "
streamReader;;# /
.;;/ 0
	ReadToEnd;;0 9
(;;9 :
);;: ;
;;;; <
}<< 
}== 
}>> 
}?? 
}AA 	
publicBB 
stringBB &
metodoEncriptarContrase√±aBB /
(BB/ 0
stringBB0 6
datoBB7 ;
)BB; <
{CC 	
tryDD 
{EE 
varFF 
keyFF 
=FF 
$strFF <
;FF< =
stringGG 
hashGG 
=GG 
metodoEncryptStringGG 1
(GG1 2
keyGG2 5
,GG5 6
datoGG7 ;
)GG; <
;GG< =
returnHH 
hashHH 
;HH 
}II 
catchJJ 
(JJ 
	ExceptionJJ 
exJJ 
)JJ  
{KK 
ConsoleLL 
.LL 
	WriteLineLL !
(LL! "
$strLL" @
+LLA B
exLLC E
)LLE F
;LLF G
returnMM 
$strMM 
;MM 
}NN 
}OO 	
publicPP 
stringPP 
metodoValidarPP #
(PP# $
stringPP$ *
datoPP+ /
)PP/ 0
{QQ 	
varRR 
keyRR 
=RR 
$strRR 8
;RR8 9
stringSS 
passwordSS 
=SS 
metodoDecryptStringSS 1
(SS1 2
keySS2 5
,SS5 6
datoSS7 ;
)SS; <
;SS< =
returnTT 
passwordTT 
;TT 
}UU 	
}VV 
}WW é
öD:\Documentos\UMG\0 -Decimo Semestre\1. Proyecto de Graduaci√≥n II\Software\GestionInventario\GestorInventarios\CapaControladorGestorInventarios\Global.cs
	namespace 	,
 CapaControladorGestorInventarios
 *
{		 
public

 
class

 
Global

 
{ 
static 
	DataTable	 
table 
= 
new 
	DataTable (
(( )
)) *
;* +
static 
string	 
fechat 
; 
static 
string	 
usuario 
; 
static 
string	 
id 
; 
static 
string	 

idtusuario 
; 
static 
string	 
nombretusuario 
; 
static 
string	 

cotizacion 
; 
public 
	DataTable	 
obtenertabla 
{ 
get 
{ 
return	 
table 
; 
} 
set 
{ 
table	 
= 
value 
; 
} 
} 
public 
string	 
fechatrabajada 
{ 
get 
{ 
return	 
fechat 
; 
} 
set 
{ 
fechat	 
= 
value 
; 
} 
} 
public   
string  	 
obtieneusuario   
{!! 
get"" 
{"" 
return""	 
usuario"" 
;"" 
}"" 
set## 
{## 
usuario##	 
=## 
value## 
;## 
}## 
}$$ 
public%% 
string%%	 
	obtieneid%% 
{&& 
get'' 
{'' 
return''	 
id'' 
;'' 
}'' 
set(( 
{(( 
id((	 
=(( 
value(( 
;(( 
}(( 
})) 
public** 
string**	 
obtieneidtusuario** !
{++ 
get,, 
{,, 
return,,	 

idtusuario,, 
;,, 
},, 
set-- 
{-- 

idtusuario--	 
=-- 
value-- 
;-- 
}-- 
}.. 
public// 
string//	 !
obtienenombretusuario// %
{00 
get11 
{11 
return11	 
nombretusuario11 
;11 
}11  !
set22 
{22 
nombretusuario22	 
=22 
value22 
;22  
}22! "
}33 
public44 
string44	 "
cotizacionseleccionada44 &
{55 
get66 
{66 
return66	 

cotizacion66 
;66 
}66 
set77 
{77 

cotizacion77	 
=77 
value77 
;77 
}77 
}88 
}99 
}:: ◊
´D:\Documentos\UMG\0 -Decimo Semestre\1. Proyecto de Graduaci√≥n II\Software\GestionInventario\GestorInventarios\CapaControladorGestorInventarios\Properties\AssemblyInfo.cs
[ 
assembly 	
:	 

AssemblyTitle 
( 
$str ;
); <
]< =
[		 
assembly		 	
:			 

AssemblyDescription		 
(		 
$str		 !
)		! "
]		" #
[

 
assembly

 	
:

	 
!
AssemblyConfiguration

  
(

  !
$str

! #
)

# $
]

$ %
[ 
assembly 	
:	 

AssemblyCompany 
( 
$str 
) 
] 
[ 
assembly 	
:	 

AssemblyProduct 
( 
$str =
)= >
]> ?
[ 
assembly 	
:	 

AssemblyCopyright 
( 
$str 0
)0 1
]1 2
[ 
assembly 	
:	 

AssemblyTrademark 
( 
$str 
)  
]  !
[ 
assembly 	
:	 

AssemblyCulture 
( 
$str 
) 
] 
[ 
assembly 	
:	 


ComVisible 
( 
false 
) 
] 
[ 
assembly 	
:	 

Guid 
( 
$str 6
)6 7
]7 8
[## 
assembly## 	
:##	 

AssemblyVersion## 
(## 
$str## $
)##$ %
]##% &
[$$ 
assembly$$ 	
:$$	 

AssemblyFileVersion$$ 
($$ 
$str$$ (
)$$( )
]$$) *